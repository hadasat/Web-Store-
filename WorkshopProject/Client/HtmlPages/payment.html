<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WorkShop</title>
    <script type="text/javascript" src="/wot/communication.js"></script>


    <!-- BOOTSTRAP FILES -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">



    <!-- NAVBAR -->
    <div id="navbar_header"></div>
    <script type="text/javascript" src="/wot/navbar.js"></script>
</head>
<body>
    <div class="container">
        <div id="page-header" class="pb-2 mt-4 mb-2 border-bottom text-center">
            <h1>Payment</h1>
        </div>
        <p></p>
        <form id="payment">
                <div class="row" style="margin-bottom: 8px;">
                        <div class="col">
                            <label for="creditNum">Credit Card Number</label>
                            <input id= "creditNum" type="number" class="form-control" placeholder="Number" required>
                        </div>
                </div>
                <div class="row" style="margin-bottom: 8px;">
                        <div class="col">
                                <label for="cvv">CVV</label> 
                                <input id= "cvv"type="number"  class="form-control" placeholder="CVV"required >
                        </div>
                        <div class="col">
                                <label for="dateYear">Ex. Year</label> 
                                <input id= "dateYear"type="number"  class="form-control" placeholder="Year" required>
                        </div>
                        <div class="col">
                            <label for="dateMonth">Ex. Month</label> 
                            <input id= "dateMonth"type="number"  class="form-control" placeholder="Month"required >
                    </div>
                    
                </div>
                <div class="row" style="margin-bottom: 8px;">
                    <div class="col">
                        <label for="id">ID</label> 
                        <input id= "id"type="number"  class="form-control" placeholder="ID" required>
                    </div>
                    <div class="col">
                        <label for="holder">Full Name (card holder)</label> 
                        <input id= "holder"type="text"  class="form-control" placeholder="Name" required>
                    </div>
                </div>
                <div class="row" style="margin-bottom: 8px;">
                    <div class="col">
                        <label for="add">Street</label> 
                        <input id= "add" type="text"  class="form-control" placeholder="Street" required>
                    </div>
                    <div class="col">
                        <label for="city">City</label> 
                        <input id= "city" type="text"  class="form-control" placeholder="City" required>
                    </div>
                    <div class="col">
                        <label for="country">Country</label> 
                        <input id= "country" type="text"  class="form-control" placeholder="Country" required >
                    </div>
                </div>
                <div class="row" style="margin-bottom: 8px;">
                    <div class="col">
                        <label for="name">Name (to delivery)</label> 
                        <input id= "name" type="text"  class="form-control" placeholder="Name" required >
                    </div>
                    <div class="col">
                        <label for="zip">Zip</label> 
                        <input id= "zip" type="number"  class="form-control" placeholder="Zip" required >
                    </div>
                </div>
               
                <div class="text-center">
                    <button id="buy_btn" type="button" class="btn btn-success">Buy</button>
                </div>
        </form>
        <hr>
        <div class="grid row"> </div>  
    </div>
    <script>

        onStart(function(){});
        $('#buy_btn').on('click',function(){
           var creditNum = $("#creditNum").val();
           var cvv = $("#cvv").val();
           var dateYear = $("#dateYear").val();
           var dateMonth = $("#dateMonth").val();
           var id = $("#id").val();
           var name = $("#name").val();
           var add = $("#add").val();
           var city = $("#city").val();
           var country = $("#country").val();
           var holder = $("#holder").val();
           var zip = $("#zip").val();

           sendRequest('action','buyShoppingBasket',{cardNumber: creditNum , month: dateMonth,year: dateYear,
        holder: holder,cvv: cvv,id: id, name:name,address: add,city: city,
        country: country ,zip: zip }).then(function(){
            alert("Purchasing succeed!");
            window.location.href = "/wot/main";
        });

        });
        
    </script>
</body>
</html>